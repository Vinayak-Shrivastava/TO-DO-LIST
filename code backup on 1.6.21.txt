<html>
<body>

<center>
<table border=4 id="table" style="cursor:default;" >
<caption><b>TO-DO LIST</b></caption>
<tr>
<th>Task No.</th>
<th>Name</th>
<th>Description</th>
<th>Status</th>
</tr>
</table><br>
<div style="position:fixed;top:0px;right:0px;" id="details">0 task<br> 0 completed<br> 0 due</div>
<button id="btn1" onclick="add_task_btn()">Add Task</button>
<button id="btn3" onclick="modify_task_btn()">Modify task</button>
<button id="btn2" onclick="del_task_btn()">Delete Task</button><br>
<label id="l1" for="i1" style="visibility:hidden">Enter task name:</label>
<input id="i1" value="Task Name" style="visibility:hidden"></input>
<label id="l2" for="i2" style="visibility:hidden">Enter description:</label>
<input id="i2" value="Task description" style="visibility:hidden"></input>
<button id="btn4" onclick="create_task()" style="visibility:hidden">Create Task</button><br>
<label id="l3" for="i3" style="visibility:hidden">Enter task number to be deleted:</label>
<input id="i3" type="number" value="" style="visibility:hidden"></input>
<button id="btn5" onclick="del_task()" style="visibility:hidden">Delete</button><br>
<label id="l4" for="i4" style="visibility:hidden">Enter task no.:</label>
<input id="i4" type="number" value="" style="visibility:hidden"></input>
<button id="btn6" onclick="change_desc()" style="visibility:hidden">Change discription</button>
<button id="btn7" onclick="change_stats()" style="visibility:hidden">Change Status</button><br>
</center>

<script>
s_no=0;
a=0;c=0;
let i=0;
function reset()
{
document.getElementById("btn1").style.visibility = "visible";
document.getElementById("btn2").style.visibility = "visible";
document.getElementById("btn3").style.visibility = "visible";
document.getElementById("l1").style.visibility = "hidden";
document.getElementById("i1").style.visibility = "hidden";
document.getElementById("btn4").style.visibility = "hidden";
document.getElementById("l2").style.visibility = "hidden";
document.getElementById("i2").style.visibility = "hidden";
document.getElementById("l3").style.visibility = "hidden";
document.getElementById("i3").style.visibility = "hidden";
document.getElementById("l4").style.visibility = "hidden";
document.getElementById("i4").style.visibility = "hidden";
document.getElementById("btn5").style.visibility = "hidden";
document.getElementById("btn6").style.visibility = "hidden";
document.getElementById("btn7").style.visibility = "hidden";
document.getElementById("i1").value = "Task Name";
document.getElementById("i2").value = "Task Description";
document.getElementById("i3").value = "";
document.getElementById("i4").value = "";
if(s_no==1) document.getElementById("details").innerHTML = s_no+" task<br>" + c +" completed<br>" + (s_no-c) +" due" ;
else  document.getElementById("details").innerHTML = s_no+" tasks<br>" + c +" completed<br>" + (s_no-c) +" due" ;
}

function change_desc()
{
a=document.getElementById("i4").value;
if(a>s_no){alert("Task number " + a + " doesn't exist");reset();}
else if(a<=0){alert("plz enter a valid task number");reset();}
else{
document.getElementById("table").rows[a].cells[2].innerHTML=prompt("Enter new description for \""+document.getElementById("table").rows[a].cells[1].innerHTML+ "\"",document.getElementById("table").rows[a].cells[2].innerHTML);

reset();

}

}

function change_stats()
{
a=document.getElementById("i4").value;

if(a>s_no){alert("Task number " + a + " doesn't exist");reset();}
else if(a<=0){alert("plz enter a valid task number");reset();}
else{
if(document.getElementById("table").rows[a].cells[3].innerHTML == "DUE" && confirm("Change status of \"" +document.getElementById("table").rows[a].cells[1].innerHTML + "\" from \"DUE\" to \"COMPLETED\". ") ){document.getElementById("table").rows[a].cells[3].innerHTML = "COMPLETED";c++;}
else if(confirm("Change status of \""+document.getElementById("table").rows[a].cells[1].innerHTML +"\" from \"COMPLETED\" to \"DUE\". ")){document.getElementById("table").rows[a].cells[3].innerHTML = "DUE";c--;}
reset();
if(c==s_no && c!=0){alert("ALL TASKS COMPLETED!!");}
}
}

function del_task_btn()
{
document.getElementById("btn1").style.visibility = "hidden";
document.getElementById("btn2").style.visibility = "hidden";
document.getElementById("btn3").style.visibility = "hidden";
document.getElementById("l3").style.visibility = "visible";
document.getElementById("i3").style.visibility = "visible";

document.getElementById("btn5").style.visibility = "visible";



}


function add_task_btn()
{
document.getElementById("btn1").style.visibility = "hidden";
document.getElementById("btn2").style.visibility = "hidden";
document.getElementById("btn3").style.visibility = "hidden";
document.getElementById("l1").style.visibility = "visible";
document.getElementById("i1").style.visibility = "visible";
document.getElementById("l2").style.visibility = "visible";
document.getElementById("i2").style.visibility = "visible";
document.getElementById("btn4").style.visibility = "visible";
}

function modify_task_btn()
{
document.getElementById("btn1").style.visibility = "hidden";
document.getElementById("btn2").style.visibility = "hidden";
document.getElementById("btn3").style.visibility = "hidden";
document.getElementById("l4").style.visibility = "visible";
document.getElementById("i4").style.visibility = "visible";
document.getElementById("btn6").style.visibility = "visible";
document.getElementById("btn7").style.visibility = "visible";
}

function create_task()
{
  s_no++;
  table = document.getElementById("table");
  row = table.insertRow(s_no);
  cell1 = row.insertCell(0);
  cell2 = row.insertCell(1);
  cell3 = row.insertCell(2);
  cell4 = row.insertCell(3);
  cell1.innerHTML = s_no;
  cell2.innerHTML = document.getElementById("i1").value;
  cell3.innerHTML = document.getElementById("i2").value;
  cell4.innerHTML = "DUE";
 reset();
}

function del_task()
{
a=document.getElementById("i3").value;
if(a<=0){alert("plz enter a valid task number");reset();}
else if(a>s_no){alert("Task number " + a + " doesn't exist");reset();}
else{
if(confirm("Task \"" + document.getElementById("table").rows[a].cells[1].innerHTML + "\" will be deleted.") == true){
if(document.getElementById("table").rows[a].cells[3].innerHTML=="COMPLETED"){c--;}
document.getElementById("table").deleteRow(a);

s_no--;
for(i=1;i<=s_no;i++)
{
if(document.getElementById("table").rows[i].cells[0].innerHTML > a){document.getElementById("table").rows[i].cells[0].innerHTML--;}
}

reset();
}
else{reset();}

}
}










</script>
</body>
</html>